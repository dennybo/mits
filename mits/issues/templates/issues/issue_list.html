{% extends 'projects/project_base.html' %}


{% block title %}
  {{ project.name }}
{% endblock %}


{% block action_button %}
  <!-- Open/Closed Issues Buttons -->
  <div class="btn-group" role="group">
    {% if request.path == project.get_issue_list_url %}
      <a href="{{ project.get_issue_list_url }}" class="btn btn-default active">
        <span class="glyphicon glyphicon-eye-open"></span>
      </a>
    {% else %}
      <a href="{{ project.get_issue_list_url }}" class="btn btn-default">
        <span class="glyphicon glyphicon-eye-open"></span>
      </a>
    {% endif %}

    {% if request.path == project.get_closed_issue_list_url %}
      <a href="{{ project.get_closed_issue_list_url }}" class="btn btn-default active">
        <span class="glyphicon glyphicon-eye-close"></span>
      </a>
    {% else %}
      <a href="{{ project.get_closed_issue_list_url }}" class="btn btn-default">
        <span class="glyphicon glyphicon-eye-close"></span>
      </a>
    {% endif %}
  </div>

  <a href="{% url 'issues:issue_create' project.pk %}" class="btn btn-success load-modal" title="New Issue">
    <span class="glyphicon glyphicon-plus"></span>
    <span class="hidden-xs">New Issue</span>
  </a>
{% endblock %}


{% block content %}
  <div class="row row-vspace">
    <div class="col-sm-12">
      {% if project.issue_set.count == 0 %}
        <div class="jumbotron text-center">
          <h1>No issues!</h1>
          <p>Your project is empty, maybe you would want to add an issue?</p>
          <a href="{% url 'issues:issue_create' project.pk %}" class="btn btn-success load-modal">
            <span class="glyphicon glyphicon-plus"></span> New Issue</a>
        </div>
      {% else %}
        {% with project.issue_set.all as issues %}
          {% include 'issues/_issue_list.html' %}
        {% endwith %}
      {% endif %}
    </div>
  </div>
{% endblock %}
